# Add libusb_stm32
set(LIBUSB_INCLUDE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/libusb_stm32/inc)
set(LIBUSB_SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/libusb_stm32/src)

file(GLOB_RECURSE LIBUSB_SOURCES CONFIGURE_DEPENDS ${LIBUSB_SOURCE_DIR}/*.c ${LIBUSB_SOURCE_DIR}/*.S)

add_library(libusb_stm32 INTERFACE)
target_sources(libusb_stm32 INTERFACE ${LIBUSB_SOURCES})
target_include_directories(libusb_stm32 INTERFACE
  $<BUILD_INTERFACE:${LIBUSB_INCLUDE_DIR}>
  $<BUILD_INTERFACE:${LIBUSB_SOURCE_DIR}>)
